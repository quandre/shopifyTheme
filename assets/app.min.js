let homeController = new ScrollMagic.Controller(),
  jumboNodes = document.querySelectorAll(".jumbo-video"),
  horizontalSaleNodes = document.querySelectorAll(".horizontal-sale"),
  homeActive = document.querySelector(".template-index");

null != jumboNodes &&
  jumboNodes.forEach((e) => {
    gsap
      .timeline()
      .fromTo(
        e.querySelectorAll(".transparent-color"),
        { opacity: 1, backgroundColor: "black" },
        { opacity: 0.8, duration: 2 }
      )
      .fromTo(
        "header .logo",
        { x: -200, opacity: 0 },
        { x: 0, opacity: 1, duration: 1.3 }
      )
      .fromTo(
        "header .menu",
        { x: 200, opacity: 0 },
        { x: 0, opacity: 1, duration: 1.3 },
        ">-1.3"
      )
      .fromTo(
        e.querySelectorAll(".titles h1"),
        { x: 0, opacity: 0 },
        { x: 0.1 * window.innerWidth, opacity: 1, duration: 1 },
        ">-.3"
      )
      .fromTo(
        e.querySelectorAll(".titles h2"),
        { x: 0, opacity: 0 },
        { x: 0.15 * window.innerWidth, opacity: 1, duration: 1 },
        ">-.7"
      );
  }),
  null != horizontalSaleNodes &&
    horizontalSaleNodes.forEach((e) => {
      let o = gsap.timeline();
      o.fromTo(e, { opacity: 0 }, { opacity: 1 })
        .fromTo(
          e.querySelectorAll(".horizontal-sale_percent-number"),
          { scale: 0 },
          { scale: 1, duration: 1 }
        )
        .fromTo(
          e.querySelectorAll(".horizontal-sale_title"),
          { scale: 0 },
          { scale: 1 },
          ">-1"
        );
      new ScrollMagic.Scene({
        triggerElement: e,
        triggerHook: 1,
        reverse: !0,
        offset: 150,
        duration: e.offsetHeight,
      })
        .setTween(o)
        .addTo(homeController);
    });
const footerTL = gsap.timeline();
const openMobileMenu = document.querySelector(".open-mobile-menu");
openMobileMenu.addEventListener("click", () => {
  mobileMenuTL.play();
});
const closeMobileMenu = document.querySelector(".close-mobile-menu");
closeMobileMenu.addEventListener("click", () => {
  mobileMenuTL.reverse();
});
const mobileModeOn = () => {
  window.innerWidth <= 991
    ? document.querySelector("header .menu").classList.add("mobile-mode")
    : document.querySelector("header .menu").classList.remove("mobile-mode");
};
mobileModeOn(),
  window.addEventListener("resize", function (e) {
    mobileModeOn();
  });
